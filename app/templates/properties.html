{% extends "base.html" %}

{% block title %}Properties{% endblock %}

{% block content %}
    <h2 class="my-4">Properties</h2>
    <a class="btn btn-primary mb-3" href="{{ url_for('main.add_property') }}">Add Property</a>
    <div class="list-group">
        {% for property in properties %}
        <a href="{{ url_for('main.property', id=property.id) }}" class="list-group-item list-group-item-action">
            <h5 class="mb-1">{{ property.title }}</h5>
            <p class="mb-1">{{ property.location }} - ${{ property.price }}</p>
            {% if current_user.is_authenticated and current_user.id == property.user_id %}
                <a href="{{ url_for('main.edit_property', id=property.id) }}" class="btn btn-secondary btn-sm">Edit</a>
                <form action="{{ url_for('main.delete_property', id=property.id) }}" method="post" class="d-inline">
                    <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                </form>
            {% endif %}
        </a>
        {% endfor %}
    </div>
{% endblock %}
